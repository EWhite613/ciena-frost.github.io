import Ember from 'ember';
import FrostNavigationModal from 'frost-navigation/pods/components/frost-navigation-modal/component';
import layout from './template';

export default Ember.Component.extend({
	classNames: ['frost-navigation-action','frost-link','text', 'secondary', 'large'],
	layout: layout,
  	tagName: 'a',

	initContext: Ember.on('didInitAttrs', function() {
		this.set('_navigationModal', this.nearestOfType(FrostNavigationModal));
	}),

	onclick: Ember.on('click', function(event) {
		if (!Ember.ViewUtils.isSimpleClick(event)) {
			return true;
		}
		event.preventDefault();
		event.stopPropagation();

		this.get('_navigationModal.actions.openDialog')
			.call(this.get('_navigationModal'), this.get('id'));
	})
});
